<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Monitor Platform</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="//cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script>
    <!-- bootstrap end -->
    <link rel="stylesheet" href="../static/index.css">
    <script src="../static/index.js" type="text/javascript"></script>
</head>

<body>
<div class="container">
    <!-- header -->
    <div class="row">
        <h1 class="display-4" style="margin: 40px 0;">微信机器人监控平台
            <small class="text-muted" style="float: right;">by Liu Gang</small>
        </h1>
    </div>
    <!-- 页头+login -->
    <div class="jumbotron row">
        <h1 class="display-3">Hello, world!</h1>
        <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to
            featured content or information.</p>
        <hr class="m-y-md">
        <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
        <p class="lead">
            <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target=".login-modal">扫码 登陆
                微信用户
            </button>
        </p>
        </p>
    </div>
    <!-- list -->
    <table class="table table-striped row">
        <thead>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Chat</th>
            <th>状态</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        {% for item in sts_list %}
        <tr data-md5="{{ item['md5'] }}" data-username="{{ item['name'] }}">
            <th scope="row">1</th>
            <td>{{ item['name'] }}</td>
            <td>{{ item['chat'] }}</td>
            <td>{{ item['login'] }}</td>
            <td>
                <!-- Secondary, outline button -->
                <button type="button" class="btn btn-secondary logoutBtn" data-toggle="modal" data-target=".config-logout-modal">
                    Logout
                </button>
            </td>
        </tr>
        {% end %}
        </tbody>
    </table>
</div>
<!-- login modal -->
<div class="modal fade login-modal" id="loginModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">请扫码登陆...</h4>
            </div>
            <div class="modal-body">
                <form class="form-inline row">
                    <div class="col-md-2"></div>
                    <div class="form-group col-md-8">
                        <label for="keyInput">密钥 KEY: </label>
                        <input type="text" class="form-control" id="keyInput" placeholder="12345678">
                        <button type="submit" id="keySend" class="btn btn-primary">发送</button>
                    </div>
                    <div class="col-md-2"></div>
                </form>
                <div class="row" style="margin-top: 10px;">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <img id="loading-img" class="img-thumbnail" src="../static/loading.gif" width="100%" style="display: none;">
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="yesLogin">确认</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!-- logout modal -->
<div class="modal fade config-logout-modal" id="logoutModal">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">确认</h4>
            </div>
            <div class="modal-body">
                <p>确认登出<span id="modalUsername">xxx</span>用户微信吗？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                <button type="button" class="btn btn-primary" id="yesLogout">Yes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
</body>

</html>
